(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(t,e,n){t.exports={item:"CartItem_item__3ux8f",details:"CartItem_details__-CUzN",quantity:"CartItem_quantity__3bO-R",price:"CartItem_price__2hbLR",itemprice:"CartItem_itemprice__1L40y",actions:"CartItem_actions__3ccDS"}},,,function(t,e,n){t.exports={item:"ProductItem_item__17bsH",price:"ProductItem_price__zmsBh",actions:"ProductItem_actions__Cryza"}},,,,function(t,e,n){t.exports={button:"CartButton_button__5LhJ4",badge:"CartButton_badge__2qmmR"}},,,function(t,e,n){t.exports={card:"Card_card__3NU9v"}},function(t,e,n){t.exports={cart:"Cart_cart__13g8O"}},function(t,e,n){t.exports={header:"MainHeader_header__2zkt5"}},function(t,e,n){t.exports={products:"Products_products__1Wr2l"}},,,,,,,,,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(6),c=n.n(r),i=n(3),a=n.n(i),s=n(5),o=n(8),u=Object(o.b)({name:"ui",initialState:{cartVisible:!1,loading:!1,error:null},reducers:{toggle:function(t){t.cartVisible=!t.cartVisible},loading:function(t,e){t.loading=e.payload},error:function(t,e){t.error=e.payload}}}),l=Object(o.b)({name:"cart",initialState:{items:[],totalAmount:0,count:0},reducers:{add:function(t,e){var n=e.payload,r=n.title,c=n.quantity,i=n.price,a=t.items.find((function(t){return t.title===r}));a?a.quantity++:t.items.push(e.payload),t.totalAmount+=c*i,t.count+=c},remove:function(t,e){var n=e.payload,r=n.title,c=n.quantity,i=n.price,a=t.items.find((function(t){return t.title===r}));1===a.quantity?t.items=t.items.filter((function(t){return t.title!==r})):a.quantity-=1,t.totalAmount-=c*i,t.count-=c},replace:function(t,e){var n=e.payload,r=n.items,c=n.count,i=n.totalAmount;t.items=r||[],t.count=c||0,t.totalAmount=i||0}}}),d=l.actions,j=u.actions,b=Object(o.a)({reducer:{cart:l.reducer,ui:u.reducer}}),p=n(2),m=(n(29),n(12)),h=n(14),f=n.n(h),x=n(0),O=function(t){return Object(x.jsx)("section",{className:"".concat(f.a.card," ").concat(t.className?t.className:""),children:t.children})},_=n(15),v=n.n(_),y=n(4),g=n.n(y),N=function(t){var e=Object(p.b)(),n=t.item,r=n.title,c=n.quantity,i=n.total,a=n.price;return Object(x.jsxs)("li",{className:g.a.item,children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h3",{children:r}),Object(x.jsxs)("div",{className:g.a.price,children:["$",i.toFixed(2)," ",Object(x.jsxs)("span",{className:g.a.itemprice,children:["($",a.toFixed(2),"/item)"]})]})]}),Object(x.jsxs)("div",{className:g.a.details,children:[Object(x.jsxs)("div",{className:g.a.quantity,children:["x ",Object(x.jsx)("span",{children:c})]}),Object(x.jsxs)("div",{className:g.a.actions,children:[Object(x.jsx)("button",{onClick:function(){e(d.remove({title:r,quantity:1,price:a}))},children:"-"}),Object(x.jsx)("button",{onClick:function(){e(d.add({title:r,quantity:1,price:a}))},children:"+"})]})]})]})},C=function(t){var e=Object(p.c)((function(t){return t.cart})).items;return Object(x.jsxs)(O,{className:v.a.cart,children:[Object(x.jsx)("h2",{children:"Your Shopping Cart"}),Object(x.jsx)("ul",{children:e.map((function(t){return Object(x.jsx)(N,{item:Object(m.a)(Object(m.a)({},t),{},{total:t.quantity*t.price})},t.title)}))})]})},k=n(1),q=n(11),w=n.n(q),I=function(t){var e=Object(p.b)(),n=Object(p.c)((function(t){return t.cart})).count;return Object(x.jsxs)("button",{className:w.a.button,onClick:function(){e(j.toggle())},children:[Object(x.jsx)("span",{children:"My Cart"}),Object(x.jsx)("span",{className:w.a.badge,children:n})]})},z=n(16),A=n.n(z),F=function(){return Object(x.jsxs)("header",{className:A.a.header,children:[Object(x.jsx)("h1",{children:"ReduxCart"}),Object(x.jsx)("nav",{children:Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:Object(x.jsx)(I,{})})})})]})},R=function(t){return Object(x.jsxs)(k.Fragment,{children:[Object(x.jsx)(F,{}),Object(x.jsx)("main",{children:t.children})]})},S=n(7),T=n.n(S),B=function(t){var e=t.title,n=t.price,r=t.description,c=Object(p.b)();return Object(x.jsx)("li",{className:T.a.item,children:Object(x.jsxs)(O,{children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h3",{children:e}),Object(x.jsxs)("div",{className:T.a.price,children:["$",n.toFixed(2)]})]}),Object(x.jsx)("p",{children:r}),Object(x.jsx)("div",{className:T.a.actions,children:Object(x.jsx)("button",{onClick:function(){c(d.add({title:e,price:n,quantity:1}))},children:"Add to Cart"})})]})})},P=n(17),E=n.n(P),J=[{title:"Test",price:6,description:"This is a first product - amazing!"},{title:"Test 2 ",price:5,description:"This is a Second product - amazing!"}],L=function(t){return Object(x.jsxs)("section",{className:E.a.products,children:[Object(x.jsx)("h2",{children:"Buy your favorite products"}),Object(x.jsx)("ul",{children:J.map((function(t){return Object(x.jsx)(B,{title:t.title,price:t.price,description:t.description},t.title)}))})]})},V=function(){return Object(x.jsx)("div",{className:"spinner-border loader align-center",style:{width:"3rem",height:"3rem",color:"white"},role:"status",children:Object(x.jsx)("span",{className:"ml-50 sr-only",children:"Loading..."})})},U=function(t){var e=t.message;return Object(x.jsx)("div",{className:"alert alert-primary",role:"alert",children:e})},$=!0;var H=function(){var t=Object(p.c)((function(t){return t.ui})),e=t.cartVisible,n=t.loading,r=t.error,c=Object(p.b)(),i=Object(p.c)((function(t){return t.cart}));return Object(k.useEffect)((function(){if($)return c(function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(j.loading(!0)),n=function(){var t=Object(s.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://cart-f5b38-default-rtdb.firebaseio.com/cart.json");case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Request Failed...");case 5:return t.next=7,n.json();case 7:r=t.sent,e(d.replace(r));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=2,t.next=5,n();case 5:e(j.loading(!1)),e(j.error(null)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),e(j.loading(!1)),e(j.error(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()),void($=!1);c(function(t){return function(){var e=Object(s.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(j.loading(!0)),r=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cart-f5b38-default-rtdb.firebaseio.com/cart.json",{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Request Failed...");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,r();case 5:n(j.loading(!1)),n(j.error(null)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),n(j.loading(!1)),n(j.error(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}(i))}),[i,c]),Object(x.jsxs)(R,{children:[r&&Object(x.jsx)(U,{message:r}),n&&Object(x.jsx)(V,{}),e&&Object(x.jsx)(C,{}),Object(x.jsx)(L,{})]})};c.a.render(Object(x.jsx)(p.a,{store:b,children:Object(x.jsx)(H,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.14404c10.chunk.js.map